<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thiết kế cơ sở dữ liệu</title>
    <style>
        body {
            font-family: 'Calibri', sans-serif;
            font-size: 11pt;
            line-height: 1.5;
            margin: 0;
            padding: 20px;
            color: #000000;
        }

        h1 {
            font-size: 16pt;
            font-weight: bold;
            margin-bottom: 12pt;
            color: #000000;
        }

        h2 {
            font-size: 14pt;
            font-weight: bold;
            margin-top: 12pt;
            margin-bottom: 6pt;
            color: #000000;
        }

        p {
            margin-bottom: 6pt;
        }

        table {
            border-collapse: collapse;
            width: 100%;
            margin-bottom: 12pt;
        }

        th,
        td {
            border: 1pt solid #000000;
            padding: 5pt;
            text-align: left;
            vertical-align: top;
        }

        th {
            font-weight: bold;
            background-color: #f2f2f2;
        }
    </style>
</head>

<body>
    <h1>Thiết kế cơ sở dữ liệu</h1>
    <p>Dựa trên biểu đồ lớp được cung cấp, dưới đây là thiết kế cơ sở dữ liệu chi tiết:</p>

    <h2>Bảng Genres (Thể loại)</h2>
    <table>
        <thead>
            <tr>
                <th>STT</th>
                <th>Tên trường</th>
                <th>Kiểu dữ liệu</th>
                <th>Ràng buộc</th>
                <th>Mô tả</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1</td>
                <td>id</td>
                <td>int(10)</td>
                <td>Khóa chính</td>
                <td>Định danh duy nhất của thể loại</td>
            </tr>
            <tr>
                <td>2</td>
                <td>name</td>
                <td>varchar(255)</td>
                <td>Not null</td>
                <td>Tên thể loại</td>
            </tr>
            <tr>
                <td>3</td>
                <td>slug</td>
                <td>varchar(255)</td>
                <td>Not null</td>
                <td>Định danh URL thân thiện</td>
            </tr>
        </tbody>
    </table>

    <h2>Bảng Tags (Thẻ)</h2>
    <table>
        <thead>
            <tr>
                <th>STT</th>
                <th>Tên trường</th>
                <th>Kiểu dữ liệu</th>
                <th>Ràng buộc</th>
                <th>Mô tả</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1</td>
                <td>id</td>
                <td>int(10)</td>
                <td>Khóa chính</td>
                <td>Định danh duy nhất của thẻ</td>
            </tr>
            <tr>
                <td>2</td>
                <td>name</td>
                <td>varchar(100)</td>
                <td>Not null</td>
                <td>Tên thẻ</td>
            </tr>
        </tbody>
    </table>

    <h2>Bảng Authors (Tác giả)</h2>
    <table>
        <thead>
            <tr>
                <th>STT</th>
                <th>Tên trường</th>
                <th>Kiểu dữ liệu</th>
                <th>Ràng buộc</th>
                <th>Mô tả</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1</td>
                <td>id</td>
                <td>int(10)</td>
                <td>Khóa chính</td>
                <td>Định danh duy nhất của tác giả</td>
            </tr>
            <tr>
                <td>2</td>
                <td>name</td>
                <td>varchar(255)</td>
                <td>Not null</td>
                <td>Tên tác giả</td>
            </tr>
            <tr>
                <td>3</td>
                <td>state_name</td>
                <td>varchar(255)</td>
                <td>Not null</td>
                <td>Tên hiển thị/bút danh</td>
            </tr>
            <tr>
                <td>4</td>
                <td>biography</td>
                <td>varchar(2000)</td>
                <td>Null</td>
                <td>Tiểu sử tác giả</td>
            </tr>
        </tbody>
    </table>

    <h2>Bảng Comics (Truyện)</h2>
    <table>
        <thead>
            <tr>
                <th>STT</th>
                <th>Tên trường</th>
                <th>Kiểu dữ liệu</th>
                <th>Ràng buộc</th>
                <th>Mô tả</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1</td>
                <td>id</td>
                <td>int(10)</td>
                <td>Khóa chính</td>
                <td>Định danh duy nhất của truyện</td>
            </tr>
            <tr>
                <td>2</td>
                <td>title</td>
                <td>varchar(255)</td>
                <td>Not null</td>
                <td>Tiêu đề truyện</td>
            </tr>
            <tr>
                <td>3</td>
                <td>author_id</td>
                <td>int(10)</td>
                <td>Khóa ngoại</td>
                <td>Liên kết đến tác giả chính</td>
            </tr>
            <tr>
                <td>4</td>
                <td>slug</td>
                <td>varchar(255)</td>
                <td>Not null</td>
                <td>Định danh URL thân thiện</td>
            </tr>
            <tr>
                <td>5</td>
                <td>status</td>
                <td>varchar(50)</td>
                <td>Not null</td>
                <td>Trạng thái xuất bản (đang cập nhật, hoàn thành...)</td>
            </tr>
            <tr>
                <td>6</td>
                <td>image_id</td>
                <td>int(10)</td>
                <td>Khóa ngoại</td>
                <td>Liên kết đến ảnh bìa</td>
            </tr>
            <tr>
                <td>7</td>
                <td>description</td>
                <td>varchar(2000)</td>
                <td>Null</td>
                <td>Mô tả tóm tắt nội dung</td>
            </tr>
            <tr>
                <td>8</td>
                <td>user_id</td>
                <td>int(10)</td>
                <td>Khóa ngoại</td>
                <td>Người đăng truyện</td>
            </tr>
        </tbody>
    </table>

    <h2>Bảng Chapters (Chương)</h2>
    <table>
        <thead>
            <tr>
                <th>STT</th>
                <th>Tên trường</th>
                <th>Kiểu dữ liệu</th>
                <th>Ràng buộc</th>
                <th>Mô tả</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1</td>
                <td>id</td>
                <td>int(10)</td>
                <td>Khóa chính</td>
                <td>Định danh duy nhất của chương</td>
            </tr>
            <tr>
                <td>2</td>
                <td>title</td>
                <td>varchar(255)</td>
                <td>Not null</td>
                <td>Tiêu đề chương</td>
            </tr>
            <tr>
                <td>3</td>
                <td>order</td>
                <td>int(10)</td>
                <td>Not null</td>
                <td>Thứ tự chương trong truyện</td>
            </tr>
            <tr>
                <td>4</td>
                <td>description</td>
                <td>varchar(1000)</td>
                <td>Null</td>
                <td>Mô tả ngắn về chương</td>
            </tr>
            <tr>
                <td>5</td>
                <td>vote_count</td>
                <td>int(10)</td>
                <td>Default 0</td>
                <td>Số lượt bình chọn</td>
            </tr>
            <tr>
                <td>6</td>
                <td>read_count</td>
                <td>int(10)</td>
                <td>Default 0</td>
                <td>Số lượt đọc</td>
            </tr>
            <tr>
                <td>7</td>
                <td>content</td>
                <td>text</td>
                <td>Not null</td>
                <td>Nội dung chương</td>
            </tr>
            <tr>
                <td>8</td>
                <td>pricing</td>
                <td>float(10,2)</td>
                <td>Default 0</td>
                <td>Giá mở khóa chương (nếu là chương trả phí)</td>
            </tr>
        </tbody>
    </table>

    <h2>Bảng Comments (Bình luận)</h2>
    <table>
        <thead>
            <tr>
                <th>STT</th>
                <th>Tên trường</th>
                <th>Kiểu dữ liệu</th>
                <th>Ràng buộc</th>
                <th>Mô tả</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1</td>
                <td>id</td>
                <td>int</td>
                <td>Khóa chính</td>
                <td>Định danh duy nhất của bình luận</td>
            </tr>
            <tr>
                <td>2</td>
                <td>content</td>
                <td>varchar</td>
                <td>Not null</td>
                <td>Nội dung bình luận</td>
            </tr>
            <tr>
                <td>3</td>
                <td>user_id</td>
                <td>int</td>
                <td>Khóa ngoại</td>
                <td>Người bình luận</td>
            </tr>
            <tr>
                <td>4</td>
                <td>comic_id</td>
                <td>int</td>
                <td>Khóa ngoại</td>
                <td>Truyện được bình luận</td>
            </tr>
            <tr>
                <td>5</td>
                <td>deep</td>
                <td>int</td>
                <td>Default 0</td>
                <td>Độ sâu phân cấp của bình luận (hỗ trợ trả lời)</td>
            </tr>
        </tbody>
    </table>

    <h2>Bảng Media (Phương tiện)</h2>
    <table>
        <thead>
            <tr>
                <th>STT</th>
                <th>Tên trường</th>
                <th>Kiểu dữ liệu</th>
                <th>Ràng buộc</th>
                <th>Mô tả</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1</td>
                <td>id</td>
                <td>int</td>
                <td>Khóa chính</td>
                <td>Định danh duy nhất của phương tiện</td>
            </tr>
            <tr>
                <td>2</td>
                <td>name</td>
                <td>varchar</td>
                <td>Not null</td>
                <td>Tên tập tin</td>
            </tr>
            <tr>
                <td>3</td>
                <td>size</td>
                <td>varchar</td>
                <td>Not null</td>
                <td>Kích thước tập tin</td>
            </tr>
            <tr>
                <td>4</td>
                <td>alt</td>
                <td>varchar</td>
                <td>Null</td>
                <td>Mô tả thay thế</td>
            </tr>
            <tr>
                <td>5</td>
                <td>type</td>
                <td>varchar</td>
                <td>Not null</td>
                <td>Loại phương tiện (hình ảnh, âm thanh...)</td>
            </tr>
        </tbody>
    </table>

    <h2>Bảng Users (Người dùng)</h2>
    <table>
        <thead>
            <tr>
                <th>STT</th>
                <th>Tên trường</th>
                <th>Kiểu dữ liệu</th>
                <th>Ràng buộc</th>
                <th>Mô tả</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1</td>
                <td>id</td>
                <td>int</td>
                <td>Khóa chính</td>
                <td>Định danh duy nhất của người dùng</td>
            </tr>
            <tr>
                <td>2</td>
                <td>name</td>
                <td>varchar</td>
                <td>Not null</td>
                <td>Tên hiển thị</td>
            </tr>
            <tr>
                <td>3</td>
                <td>email</td>
                <td>varchar</td>
                <td>Not null, Unique</td>
                <td>Địa chỉ email</td>
            </tr>
            <tr>
                <td>4</td>
                <td>avatar</td>
                <td>varchar</td>
                <td>Null</td>
                <td>Đường dẫn ảnh đại diện</td>
            </tr>
            <tr>
                <td>5</td>
                <td>password</td>
                <td>varchar</td>
                <td>Not null</td>
                <td>Mật khẩu đã mã hóa</td>
            </tr>
        </tbody>
    </table>

    <h2>Bảng Wallets (Ví)</h2>
    <table>
        <thead>
            <tr>
                <th>STT</th>
                <th>Tên trường</th>
                <th>Kiểu dữ liệu</th>
                <th>Ràng buộc</th>
                <th>Mô tả</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1</td>
                <td>id</td>
                <td>int</td>
                <td>Khóa chính</td>
                <td>Định danh duy nhất của ví</td>
            </tr>
            <tr>
                <td>2</td>
                <td>user_id</td>
                <td>int</td>
                <td>Khóa ngoại</td>
                <td>Chủ sở hữu ví</td>
            </tr>
            <tr>
                <td>3</td>
                <td>currency</td>
                <td>float</td>
                <td>Default 0</td>
                <td>Số dư hiện tại</td>
            </tr>
        </tbody>
    </table>

    <h2>Bảng Payment (Thanh toán)</h2>
    <table>
        <thead>
            <tr>
                <th>STT</th>
                <th>Tên trường</th>
                <th>Kiểu dữ liệu</th>
                <th>Ràng buộc</th>
                <th>Mô tả</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1</td>
                <td>id</td>
                <td>int</td>
                <td>Khóa chính</td>
                <td>Định danh duy nhất của giao dịch</td>
            </tr>
            <tr>
                <td>2</td>
                <td>user_id</td>
                <td>int</td>
                <td>Khóa ngoại</td>
                <td>Người thực hiện giao dịch</td>
            </tr>
            <tr>
                <td>3</td>
                <td>chapter_id</td>
                <td>int</td>
                <td>Khóa ngoại</td>
                <td>Chương được mua (nếu có)</td>
            </tr>
            <tr>
                <td>4</td>
                <td>status</td>
                <td>varchar</td>
                <td>Not null</td>
                <td>Trạng thái giao dịch</td>
            </tr>
            <tr>
                <td>5</td>
                <td>amount</td>
                <td>float</td>
                <td>Not null</td>
                <td>Số tiền giao dịch</td>
            </tr>
            <tr>
                <td>6</td>
                <td>currency</td>
                <td>varchar</td>
                <td>Not null</td>
                <td>Đơn vị tiền tệ</td>
            </tr>
            <tr>
                <td>7</td>
                <td>method</td>
                <td>varchar</td>
                <td>Not null</td>
                <td>Phương thức thanh toán</td>
            </tr>
        </tbody>
    </table>

    <h2>Bảng Comic_Genre (Liên kết truyện-thể loại)</h2>
    <table>
        <thead>
            <tr>
                <th>STT</th>
                <th>Tên trường</th>
                <th>Kiểu dữ liệu</th>
                <th>Ràng buộc</th>
                <th>Mô tả</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1</td>
                <td>comic_id</td>
                <td>int</td>
                <td>Khóa ngoại</td>
                <td>Liên kết đến truyện</td>
            </tr>
            <tr>
                <td>2</td>
                <td>genre_id</td>
                <td>int</td>
                <td>Khóa ngoại</td>
                <td>Liên kết đến thể loại</td>
            </tr>
        </tbody>
    </table>

    <h2>Bảng Comic_Tag (Liên kết truyện-thẻ)</h2>
    <table>
        <thead>
            <tr>
                <th>STT</th>
                <th>Tên trường</th>
                <th>Kiểu dữ liệu</th>
                <th>Ràng buộc</th>
                <th>Mô tả</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1</td>
                <td>comic_id</td>
                <td>int</td>
                <td>Khóa ngoại</td>
                <td>Liên kết đến truyện</td>
            </tr>
            <tr>
                <td>2</td>
                <td>tag_id</td>
                <td>int</td>
                <td>Khóa ngoại</td>
                <td>Liên kết đến thẻ</td>
            </tr>
        </tbody>
    </table>

    <p>Mỗi bảng được thiết kế với các phương thức chức năng tương ứng như Thêm(), Sửa(), Xóa() và Tìm kiếm() như thể
        hiện trong biểu đồ lớp. Các mối quan hệ giữa các bảng được thiết lập thông qua các khóa ngoại, đảm bảo tính toàn
        vẹn dữ liệu và hiệu quả trong việc truy vấn.</p>
</body>

</html>